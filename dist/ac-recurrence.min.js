!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("rrule"),require("angular")):"function"==typeof define&&define.amd?define(["rrule","angular"],r):"object"==typeof exports?exports.acRecurrence=r(require("rrule"),require("angular")):e.acRecurrence=r(e.RRule,e.angular)}("undefined"!=typeof self?self:this,function(e,r){return function(e){function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var n={};return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=6)}([function(e,r){},function(e,r,n){var t="ac-recurrence.html";n(11).module("ac-recurrence").run(["$templateCache",function(e){e.put(t,'<div ng-form>\n  <fieldset>\n    <label>Frequency</label>\n    <select ng-model="vm.properties.frequency" ng-change="vm.setFrequency()">\n      <option value="3">daily</option>\n      <option value="2">weekly</option>\n      <option value="1">monthly</option>\n      <option value="0">yearly</option>\n    </select>\n\n    <div>\n      <label>Every</label>\n      <input type="number" ng-model="vm.properties.interval" min="1"></input>\n      <label>{{ vm.word }}<ng-pluralize count="vm.properties.interval" when="{ 1: \'\', other: \'s\'}"></ng-pluralize>{{ vm.preposition }}</label>\n    </div>\n\n    <ac-grid ng-if="vm.properties.frequency === \'2\'" ng-model="vm.properties.byWeekDay" options="vm.days" per-row="7"></ac-grid>\n    <ac-grid ng-if="vm.properties.frequency === \'0\'" ng-model="vm.properties.byMonth" options="vm.months" per-row="3"></ac-grid>\n\n    <div ng-if="[\'1\', \'0\'].includes(vm.properties.frequency)">\n      <input ng-model="vm.properties.type" value="day" type="radio">\n      <label>on the</label>\n      <input type="number" ng-model="vm.properties.monthDay" min="1" max="31"><ng-pluralize count="vm.properties.monthDay" when="{ 1: \'st\', 2: \'nd\', 3: \'rd\', 21: \'st\', 22: \'nd\', 23: \'rd\', 31: \'st\', other: \'th\'}"></ng-pluralize>\n    </div>\n    <div ng-if="[\'1\', \'0\'].includes(vm.properties.frequency)">\n      <input ng-model="vm.properties.type" value="offset" type="radio">\n      <label>on the</label>\n      <select ng-model="vm.properties.offset">\n        <option ng-value="1">first</option>\n        <option value="2">second</option>\n        <option value="3">third</option>\n        <option value="4">fourth</option>\n        <option value="5">fifth</option>\n        <option value="-1">last</option>\n      </select>\n      <select ng-model="vm.properties.offsetPeriod">\n        <option ng-value="6">Sunday</option>\n        <option ng-value="0">Monday</option>\n        <option ng-value="1">Tuesday</option>\n        <option ng-value="2">Wednesday</option>\n        <option ng-value="3">Thursday</option>\n        <option ng-value="4">Friday</option>\n        <option ng-value="5">Saturday</option>\n        <option value="wkday">weekday</option>\n        <option value="wkend">weekend day</option>\n      </select>\n    </div>\n  </fieldset>\n</div>\n')}]),e.exports=t},function(e,r){!function(){"use strict";angular.module("ac-recurrence").constant("RRule",RRule)}()},function(e,r){!function(){"use strict";function e(e,r){function n(){o.word=e.frequencies[o.properties.frequency],"YEARLY"===i[o.properties.frequency]?o.preposition=" in":"WEEKLY"===i[o.properties.frequency]?o.preposition=" on":o.preposition="","WEEKLY"!==i[o.properties.frequency]&&"DAILY"!==i[o.properties.frequency]||(o.properties.type="")}function t(){var e=[];"WEEKLY"===i[o.properties.frequency]&&(e=o.properties.byWeekDay);var n=null,t=null,l=null;"YEARLY"!==i[o.properties.frequency]&&"MONTHLY"!==i[o.properties.frequency]||("offset"===o.properties.type?"wkday"===o.properties.offsetPeriod?(e.push(r.MO),e.push(r.TU),e.push(r.WE),e.push(r.TH),e.push(r.FR),n=parseInt(o.properties.offset)):"wkend"===o.properties.offsetPeriod?(e.push(r.SA),e.push(r.SU),n=parseInt(o.properties.offset)):e.push(r[u[o.properties.offsetPeriod]].nth(o.properties.offset)):t=o.properties.monthDay,"YEARLY"===i[o.properties.frequency]&&(l=o.properties.byMonth)),o.rrule=new r({freq:parseInt(o.properties.frequency),interval:o.properties.interval,bymonth:l,bymonthday:t,bysetpos:n,byweekday:e})}var o=this;o.properties={},o.months=e.shortMonths,o.days=e.shortDays,o.printOut=t,o.rrule="",o.setFrequency=n,o.preposition=" in",o.word="year";var i={0:"YEARLY",1:"MONTHLY",2:"WEEKLY",3:"DAILY"},u={0:"MO",1:"TU",2:"WE",3:"TH",4:"FR",5:"SA",6:"SU"}}e.$inject=["localNames","RRule"],angular.module("ac-recurrence").controller("acRecurrenceController",e)}()},function(e,r){!function(){"use strict";function e(e,r,n,t){t.$formatters.push(function(e){e=e||"";var r;try{r=new RRule(RRule.parseString(e))}catch(e){console.log(e),r=new RRule}return r}),t.$parsers.push(function(r){return e.vm.printOut(),e.vm.rrule.toString()}),t.$render=function(){t.$viewValue.origOptions.bymonth&&(e.vm.properties.byMonth=[t.$viewValue.origOptions.bymonth]),t.$viewValue.origOptions.bymonthday?e.vm.properties.monthDay=t.$viewValue.origOptions.bymonthday:e.vm.properties.monthDay=null,e.vm.properties.frequency=String(t.$viewValue.origOptions.freq||0),e.vm.setFrequency(),e.vm.properties.interval=t.$viewValue.origOptions.interval||null;var r=t.$viewValue.origOptions.byweekday||[];r[0]&&r[0].n?(e.vm.properties.type="offset",e.vm.properties.offset=r[0].n,e.vm.properties.offsetPeriod=r[0].weekday):(e.vm.properties.type="day",e.vm.properties.offset=1,e.vm.properties.offsetPeriod=6,e.vm.properties.byWeekDay=r.map(function(e){return e.weekday}),t.$viewValue.origOptions.bysetpos&&(e.vm.properties.type="offset",e.vm.properties.offset=t.$viewValue.origOptions.bysetpos,angular.equals(e.vm.properties.byWeekDay,[5,6])?e.vm.properties.offsetPeriod="wkend":e.vm.properties.offsetPeriod="wkday"))},e.$watch("vm.properties",function(){t.$setViewValue(e.vm.rrule)},!0)}function r(){return{controller:"acRecurrenceController as vm",link:e,restrict:"E",require:"ngModel",scope:{},templateUrl:"ac-recurrence.html"}}angular.module("ac-recurrence").directive("acRecurrence",r)}()},function(e,r){!function(){function e(e){function r(){return{daysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:[{label:"S",value:6},{label:"M",value:0},{label:"T",value:1},{label:"W",value:2},{label:"T",value:3},{label:"F",value:4},{label:"S",value:5}],shortMonths:[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],frequencies:{3:"day",2:"week",1:"month",0:"year"}}}this.$get=r}angular.module("ac-recurrence").provider("localNames",e),e.$inject=["RRule"]}()},function(e,r,n){"use strict";function t(e){e.keys().forEach(e)}Object.defineProperty(r,"__esModule",{value:!0});var o=n(0),i=(n.n(o),n(7)),u=(n.n(i),n(8));n.n(u);n(9),t(n(10)),t(n(12))},function(e,r){!function(e){function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var n={};r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=5)}([function(e,r){e.exports=angular},function(e,r,n){var t="/ac-grid.html";n(0).module("ac-grid").run(["$templateCache",function(e){e.put(t,'<div class="outer">\n  <div class="vis-hidden" ng-repeat="row in ::options | chunkBy : perRow">\n    <input id="{{\'cell-\' + $id}}" ng-model="selections[cell.value]" type="checkbox" ng-repeat-start="cell in row" ng-disabled="disabled">\n    <label for="{{\'cell-\' + $id }}" ng-repeat-end>{{ cell.label }}</label>\n  </div>\n</div>\n')}]),e.exports=t},function(e,r,n){"use strict";function t(){function e(e){var r={};return(e||[]).map(function(e){r[e]=!0}),r}function r(e){var r=[];for(var n in e.selections)!0===e.selections[n]&&r.push(n);return r}return{link:function(n,t,o,i){i.$formatters.push(e),i.$parsers.push(r),i.$render=function(){n.selections=i.$viewValue},n.$watch("selections",function(){var e=n.selections||{};i.$setViewValue({selections:e})},!0)},require:"ngModel",restrict:"E",scope:{disabled:"<",ngModel:"=",options:"<",perRow:"<"},templateUrl:i.default}}var o,i=(o=n(1))&&o.__esModule?o:{default:o};Object.defineProperty(r,"__esModule",{value:!0}),r.default=t,angular.module("ac-grid").directive("acGrid",t)},function(e,r,n){"use strict";angular.module("ac-grid").filter("chunkBy",function(){return e=function(e,r){return e.reduce(function(e,n,t){return 0==t%r?e.push([n]):e[Math.floor(t/r)].push(n),e},[])},r={},function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];if(t in r)return r[t];var i=e.apply(void 0,t);return r[t]=i,i};var e,r})},function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=angular.module("ac-grid",[]);r.default=t},function(e,r,n){"use strict";n(10),n(4),n(3),n(2)},,,,,function(e,r){}])},function(r,n){r.exports=e},function(e,r){!function(){"use strict";angular.module("ac-recurrence",["ac-grid"])}()},function(e,r,n){function t(e){return n(o(e))}function o(e){var r=i[e];if(!(r+1))throw new Error("Cannot find module '"+e+"'.");return r}var i={"./ac-recurrence.html":1};t.keys=function(){return Object.keys(i)},t.resolve=o,e.exports=t,t.id=10},function(e,n){e.exports=r},function(e,r,n){function t(e){return n(o(e))}function o(e){var r=i[e];if(!(r+1))throw new Error("Cannot find module '"+e+"'.");return r}var i={"./ac-recurrence.constants":2,"./ac-recurrence.constants.js":2,"./ac-recurrence.controller":3,"./ac-recurrence.controller.js":3,"./ac-recurrence.directive":4,"./ac-recurrence.directive.js":4,"./local-names.provider":5,"./local-names.provider.js":5,"./styles/ac-recurrence.scss":0,"./templates/ac-recurrence.html":1};t.keys=function(){return Object.keys(i)},t.resolve=o,e.exports=t,t.id=12}])});